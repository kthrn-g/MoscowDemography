#!/usr/bin/env python
# coding: utf-8

# # –í–≤–µ–¥–µ–Ω–∏–µ
# 
# –ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–µ–º –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ: –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –ø–æ–¥–±–æ—Ä–∫—É –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –ø–æ—Ä—Ç–∞–ª–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ú–æ—Å–∫–≤—ã + –¥–∞–Ω–Ω—ã–µ –æ —á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏–∏ –ú–æ—Å–∫–≤—ã –æ—Ç –†–æ—Å—Å—Ç–∞—Ç–∞.
# - ID - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
# - Year - –≥–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
# - Month - –º–µ—Å—è—Ü –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
# - StateRegistrationOfBirth - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–æ–∂–¥–µ–Ω–∏–π
# - NumberOfBirthCertificatesForBoys - —á–∏—Å–ª–æ –≤—ã–¥–∞–Ω–Ω—ã—Ö —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –º–∞–ª—å—á–∏–∫–æ–≤
# - NumberOfBirthCertificatesForGirls - —á–∏—Å–ª–æ –≤—ã–¥–∞–Ω–Ω—ã—Ö —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ–≤–æ—á–µ–∫
# - StateRegistrationOfDeath - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–µ—Ä—Ç–µ–π
# - StateRegistrationOfMarriage - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±—Ä–∞–∫–æ–≤
# - StateRegistrationOfDivorce - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∞–∑–≤–æ–¥–æ–≤
# - StateRegistrationOfPaternityExamination - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –æ—Ç—Ü–æ–≤—Å—Ç–≤–æ
# - StateRegistrationOfAdoption - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–π/—É–¥–æ—á–µ—Ä–µ–Ω–∏–π
# - StateRegistrationOfNameChange - —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–µ–Ω –∏–º–µ–Ω–∏/—Ñ–∞–º–∏–ª–∏–∏
# - TotalPopulationThisYear - –æ–±—â–∞—è —á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è –ú–æ—Å–∫–≤—ã –ø–æ –≥–æ–¥–∞–º

# # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
# 
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∞–º —Ñ–∞–π–ª –∏ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è –¥–∞—Ç–∞—Å–µ—Ç.

# In[1]:


import numpy as np
import pandas as pd

df = pd.read_csv('moscow_stats.csv')
df.head()


# –í—Å—ë —Å—á–∏—Ç–∞–ª–æ—Å—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –¢–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º, –≤–µ–∑–¥–µ –ª–∏ —Å—Ç–æ—è—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.

# In[2]:


df.info() 


# –û—Ç–ª–∏—á–Ω–æ, –Ω–∏—á–µ–≥–æ –ø–æ–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ –Ω–∞–¥–æ. –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º –∫–∞–∂–¥—É—é –∫–æ–ª–æ–Ω–∫—É –Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∏.

# In[3]:


df.isnull().sum()


# –ò –¥–∞–∂–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –Ω–µ—Ç - –∫–∞–∫–æ–π –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç! –ê —á—Ç–æ —Ç–∞–º —Å –≤—ã–±—Ä–æ—Å–∞–º–∏?
# 
# –ï—Å–ª–∏ –±—ã —É –Ω–∞—Å –±—ã–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ StateRegistrationOfBirth (–æ–±—â–µ–µ —á–∏—Å–ª–æ —Ä–æ–∂–¥–µ–Ω–∏–π), —Ç–æ –º—ã –±—ã –ø–æ—Å—Ç—É–ø–∏–ª–∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º: –∑–∞–ø–æ–ª–Ω–∏–ª–∏ –±—ã –∏—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ df.fillna(0, inplace=True)

# In[4]:


# —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–æ–ª–µ—Ü —Å –∏–Ω—Ç–µ—Ä–∫–≤–∞—Ä—Ç–∏–ª—å–Ω—ã–º —Ä–∞–∑–º–∞—Ö–æ–º
df_stat = df[['StateRegistrationOfBirth', 'NumberOfBirthCertificatesForBoys', 'NumberOfBirthCertificatesForGirls', 'StateRegistrationOfDeath', 'StateRegistrationOfMarriage', 'StateRegistrationOfDivorce', 'StateRegistrationOfPaternityExamination', 'StateRegistrationOfAdoption', 'StateRegistrationOfNameChange', 'TotalPopulationThisYear']].describe().T

# —Å—Ç–æ–ª–±–µ—Ü —Å –∏–Ω—Ç–µ—Ä–∫–≤–∞—Ä—Ç–∏–ª—å–Ω—ã–º —Ä–∞–∑–º–∞—Ö–æ–º
df_stat['iqr'] = df_stat['75%'] - df_stat['25%']

# –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∏–∂–Ω—é—é –∏ –≤–µ—Ä—Ö–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
df_stat['lower_bound'] = df_stat['25%'] - 1.5 * df_stat['iqr']
df_stat['upper_bound'] = df_stat['75%'] + 1.5 * df_stat['iqr']

# —Å–æ–∑–¥–∞—ë–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –µ—Å—Ç—å –ª–∏ –≤—ã–±—Ä–æ—Å—ã –ø–æ –∫–∞–∂–¥–æ–π –∏–∑ –≥—Ä–∞–Ω–∏—Ü
df_stat['any_outlier_min'] = np.where(df_stat['lower_bound'] - df_stat['min'] > 0, 'yes', 'no')
df_stat['any_outlier_max'] = np.where(df_stat['max'] - df_stat['upper_bound'] > 0, 'yes', 'no')

df_stat


# –¢–∞–∫, –≤—ã–±—Ä–æ—Å–æ–≤ –º–Ω–æ–≥–æ, –≥–¥–µ-—Ç–æ –æ–Ω–∏ –¥–∞–∂–µ –µ—Å—Ç—å —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –¥–∞–≤–∞–π—Ç–µ –∏—Ö –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ–º

# In[5]:


import matplotlib.pyplot as plt 
get_ipython().run_line_magic('matplotlib', 'inline')

fig, ax = plt.subplots(2, 5, figsize=(14,9))
ax[0][0].scatter(df.ID, df.StateRegistrationOfBirth)
ax[0][1].scatter(df.ID, df.NumberOfBirthCertificatesForBoys)
ax[0][2].scatter(df.ID, df.NumberOfBirthCertificatesForGirls)
ax[0][3].scatter(df.ID, df.StateRegistrationOfDeath)
ax[0][4].scatter(df.ID, df.StateRegistrationOfMarriage)
ax[1][0].scatter(df.ID, df.StateRegistrationOfDivorce)
ax[1][1].scatter(df.ID, df.StateRegistrationOfPaternityExamination)
ax[1][2].scatter(df.ID, df.StateRegistrationOfAdoption)
ax[1][3].scatter(df.ID, df.StateRegistrationOfNameChange)
ax[1][4].scatter(df.ID, df.TotalPopulationThisYear);


# –ü–æ—Å–º–æ—Ç—Ä–µ–ª–∏ - –∏ —Ö–≤–∞—Ç–∏—Ç, –¥–∞–≤–∞–π—Ç–µ —É–¥–∞–ª–∏–º –≤—ã–±—Ä–æ—Å—ã, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –ø–æ—Ä—Ç–∏–ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.
# 
# –ò–∑ —Ç–æ–≥–æ, —á—Ç–æ –º—ã –≤–∏–¥–∏–º, –≤—ã–±—Ä–æ—Å—ã –Ω–∞–¥–æ —É–¥–∞–ª—è—Ç—å –≤–µ–∑–¥–µ, –∫—Ä–æ–º–µ StateRegistrationOfMarriage –∏ TotalPopulationThisYear. –ü—Ä–∏—á—ë–º –≤ StateRegistrationOfDeath –Ω–∞–¥–æ —É–¥–∞–ª—è—Ç—å –≤—ã–±—Ä–æ—Å—ã —Å–≤–µ—Ä—Ö—É, –≤ StateRegistrationOfAdoption - –∏ —Å–≤–µ—Ä—Ö—É, –∏ —Å–Ω–∏–∑—É, –∞ –≤–æ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö - —Å–Ω–∏–∑—É.

# In[6]:


df.drop(df[df.StateRegistrationOfBirth < 8.649875e+03].index, inplace=True)
df.drop(df[df.NumberOfBirthCertificatesForBoys < 4.472125e+03].index, inplace=True) 
df.drop(df[df.NumberOfBirthCertificatesForGirls < 4.175000e+03].index, inplace=True)
df.drop(df[df.StateRegistrationOfDeath > 1.146538e+04].index, inplace=True)
df.drop(df[df.StateRegistrationOfDivorce < 2.811625e+03].index, inplace=True)
df.drop(df[df.StateRegistrationOfPaternityExamination < 1.038875e+03].index, inplace=True)
df.drop(df[df.StateRegistrationOfAdoption < 2.887500e+01].index, inplace=True)
df.drop(df[df.StateRegistrationOfAdoption > 1.378750e+02].index, inplace=True)
df.drop(df[df.StateRegistrationOfNameChange < 4.278750e+02].index, inplace=True)


# # –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

# –ü—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–∞ describe –º—ã —Å–º–æ—Ç—Ä–∏–º –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. 

# In[7]:


df.describe()


# 1. –ú–æ–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç, —á—Ç–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–∞–ª—å—á–∏–∫–æ–≤ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –±–æ–ª—å—à–µ, —á–µ–º –¥–µ–≤–æ—á–µ–∫. –í —Å—Ä–µ–¥–Ω–µ–º —ç—Ç–æ 5821 –º–∞–ª—å—á–∏–∫ –Ω–∞ 5461 –¥–µ–≤–æ—á–∫—É, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Å —Ç–µ—á–µ–Ω–∏–µ–º –∂–∏–∑–Ω–∏ —ç—Ç–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª—å–∑—É –¥–µ–≤–æ—á–µ–∫. 
# 
# 2. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ñ–∞–∫—Ç, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–ª—é—á–µ–Ω–Ω—ã—Ö –±—Ä–∞–∫–æ–≤ –≤ —Å—Ä–µ–¥–Ω–µ–º —á—É—Ç—å –±–æ–ª—å—à–µ, —á–µ–º –≤ 2 —Ä–∞–∑–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —á–∏—Å–ª–æ —Ä–∞–∑–≤–æ–¥–æ–≤. –≠—Ç–æ –¥–∞–µ—Ç –Ω–∞–º –Ω–∞–¥–µ–∂–¥—É –Ω–∞ —Ç–æ, —á—Ç–æ –ª—é–±–æ–≤—å –ø–æ–±–µ–¥–∏—Ç ü´∂üèª
# 
# 3. –°—Ä–µ–¥–Ω—è—è —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç—å –Ω–∏–∂–µ, —á–µ–º —Å—Ä–µ–¥–Ω—è—è —Ä–æ–∂–¥–∞–µ–º–æ—Å—Ç—å, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–º –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –ø—Ä–∏—Ä–æ—Å—Ç–µ –Ω–∞—Å–µ–ª–µ–Ω–∏—è.

# In[8]:


df.groupby('Month')['StateRegistrationOfBirth'].sum().sort_values(ascending=False)


# –°–∞–º—ã–π –±–æ–ª—å—à–æ–π –º–µ—Å—è—Ü –ø–æ —Ä–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏ ‚Äì –æ–∫—Ç—è–±—Ä—å. –ú—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏, —Å–¥–µ–ª–∞–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—á–µ—Ç—ã –∏ –ø—Ä–∏—à–ª–∏ –∫ –≤—ã–≤–æ–¥—É, —á—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Å—è—Ü –∑–∞—á–∞—Ç–∏—è ‚Äì —Ñ–µ–≤—Ä–∞–ª—å. –ú—ã –≤—ã–¥–µ–ª–∏–ª–∏ 3 –ø—Ä–∏—á–∏–Ω—ã –¥–ª—è —Ç–∞–∫–æ–≥–æ —è–≤–ª–µ–Ω–∏—è:
# 
# 1. –í—Å–µ —Ö–æ—Ç—è—Ç –¥–µ—Ç–µ–π –í–µ—Å–æ–≤ 
# 2. –§–µ–≤—Ä–∞–ª—å ‚Äì –≤—Ä–µ–º—è —Ö–æ–ª–æ–¥–æ–≤ –≤ –ú–æ—Å–∫–≤–µ, –∫–æ–≥–¥–∞ –æ–Ω–∏ —É–∂–µ –≤—Å–µ–º –Ω–∞–¥–æ–µ–ª–∏ –∏ –≤—Å–µ –Ω–∞—Å–º–æ—Ç—Ä–µ–ª–∏—Å—å –Ω–∞ —Å–Ω–µ–≥, –ø–æ—ç—Ç–æ–º—É –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç —Å–∏–¥–µ—Ç—å –¥–æ–º–∞ –∏ —Å–æ–≥—Ä–µ–≤–∞—Ç—å—Å—è —Ç–µ–ø–ª–æ–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞
# 3. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—É–ø—Ä—É–∂–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –ø–æ–¥–∞—Ä–∫–æ–º –Ω–∞ 23 —Ñ–µ–≤—Ä–∞–ª—è

# # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

# –ú—ã —Ä–µ—à–∏–ª–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–∫–ª—é—á–µ–Ω–Ω—ã—Ö –±—Ä–∞–∫–æ–≤ –Ω–∞ —á–∏—Å–ª–æ —Ä–æ–∂–¥–µ–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π. –¢–∞—Ä–≥–µ—Ç–æ–º –±—É–¥–µ—Ç —è–≤–ª—è—Ç—å—Å—è StateRegistrationOfBirth, –∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–º –±—É–¥–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è StateRegistrationOfMarriage. 

# In[9]:


import statsmodels.formula.api as smf

# —Å–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª–µ –∏ –æ–±—É—á–∞–µ–º –µ–µ –Ω–∞ data –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–∞ .fit()
lm = smf.ols(formula='StateRegistrationOfBirth ~ StateRegistrationOfMarriage', data=df).fit()

# –≤—ã–≤–µ–¥–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –º–æ–¥–µ–ª–∏
lm.params


# In[ ]:


#–∏—Ç–æ–≥–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ 

StateRegistrationOfBirth = 9802.308981 + 0.190475*StateRegistrationOfMarriage


# –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ p-value –ø—Ä–∏–∑–Ω–∞–∫–∞, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω—É–∂–Ω–æ –ª–∏ –Ω–∞–º –µ–≥–æ —É—á–∏—Ç—ã–≤–∞—Ç—å

# In[10]:


lm.summary()


# P-value 0, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã–º, –º—ã –º–æ–∂–µ–º –¥–µ–ª–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –Ω–µ–º.

# ### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –º–æ–¥–µ–ª–∏

# –ö–∞–∫ –º—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º StateRegistrationOfMarriage –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (ùõΩ1)?
# 
# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ 1000 –±—Ä–∞–∫–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —á–∏—Å–ª–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–æ–∂–¥–µ–Ω–∏–π –¥–µ—Ç–µ–π –Ω–∞ 190.
# 
# –û–±—Ä–∞—Ç–∏–º –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –µ—Å–ª–∏ –±—ã —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –±—Ä–∞–∫–æ–≤ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Å–Ω–∏–∂–µ–Ω–∏—é —Ä–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏, —Ç–æ  ùõΩ1 –±—ã–ª –±—ã –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º.

# In[11]:


#–°–¥–µ–ª–∞–µ–º –ø—Ä–æ–≥–Ω–æ–∑ 

k = 9802.308981 + 0.190475*69
print(f'–ü—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ —á–∏—Å–ª–∞ –±—Ä–∞–∫–æ–≤ –Ω–∞ 69 —á–∏—Å–ª–æ —Ä–æ–∂–¥–µ–Ω–∏–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º {round(k)}')


# ## –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏

# –ú—ã —Ä–µ—à–∏–ª–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–ª–∏—è–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–∑–≤–æ–¥–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–∂–¥–µ–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π. –¢–∞—Ä–≥–µ—Ç–æ–º –±—É–¥–µ—Ç —è–≤–ª—è—Ç—å—Å—è StateRegistrationOfBirth, –∞ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –±—É–¥—É—Ç —è–≤–ª—è—Ç—å—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ StateRegistrationOfDivorce, StateRegistrationOfAdoption. 

# In[15]:


# —Å–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª–µ –∏ –æ–±—É—á–∞–µ–º –µ–µ –Ω–∞ data –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–∞ .fit()
lm = smf.ols(formula='StateRegistrationOfBirth ~ StateRegistrationOfDivorce + StateRegistrationOfAdoption', data=df).fit()

# –≤—ã–≤–µ–¥–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –º–æ–¥–µ–ª–∏
lm.params


# In[ ]:


#—Ñ–æ—Ä–º—É–ª–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏

StateRegistrationOfBirth = 7550.006123 + 0.981285*StateRegistrationOfDivorce + 0.786954*StateRegistrationOfAdoption


# In[16]:


lm.summary()


# –°–º–æ—Ç—Ä–∏–º –Ω–∞ p-value –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –í —Å–ª—É—á–∞–µ —Å —Ä–∞–∑–≤–æ–¥–∞–º–∏ p-value 0, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–∏–∑–Ω–∞–∫ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ç–∞–∫–æ–≤—ã–º, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ p-value –≤—ã—Å–æ–∫–∏–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –º—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–∏–∑–Ω–∞–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏.

# R-–∫–≤–∞–¥—Ä–∞—Ç –≤ –¥–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è –º–µ–Ω—å—à–µ, —á–µ–º –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –º–æ–¥–µ–ª–∏ –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å–∏–∏, –∑–Ω–∞—á–∏—Ç, —ç—Ç–∞ –º–æ–¥–µ–ª—å –º–µ–Ω–µ–µ —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω–∞, —á–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∞—è.

# In[23]:


#–°–¥–µ–ª–∞–µ–º –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ –∏—Ç–æ–≥–æ–≤–æ–π —Ñ–æ—Ä–º—É–ª–µ

g = 7550.006123 + 0.981285*100 + 0.786954*100


# –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–∞–∫–æ–≤–∞, —á—Ç–æ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Å–Ω–∏–∂–∞–µ—Ç—Å—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –±—Ä–∞–∫–∞ –≤ —Ä–∞–º–∫–∞—Ö —Ä–æ–∂–¥–µ–Ω–∏—è –¥–µ—Ç–µ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Ä–∞–∑–≤–æ–¥–æ–≤ –Ω–∞ 100 –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é —á–∏—Å–ª–∞ —Ä–æ–∂–¥–µ–Ω–∏–π –Ω–∞ 98 —Ä–µ–±–µ–Ω–∫–∞.

# # the best ever –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

# In[26]:


fig, ax = plt.subplots(figsize=(16,9))
ax.scatter(df['Month'], df['StateRegistrationOfDivorce'])
ax.set_xlabel('–ú–µ—Å—è—Ü—ã', fontsize=12)
ax.set_ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–≤–æ–¥–æ–≤', fontsize=12);


# **–í—ã–≤–æ–¥**: –ï—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫, —Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–µ—Å—è—Ü–µ–º –∏ —á–∏—Å–ª–æ–º —Ä–∞–∑–≤–æ–¥–æ–≤ –Ω–µ—Ç

# In[29]:


fig, ax = plt.subplots(figsize=(16,9))
plt.bar(df['Year'], df['NumberOfBirthCertificatesForGirls'], color = 'pink')
ax.set_xlabel('–ì–æ–¥—ã', fontsize=12)
ax.set_ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–∂–¥–µ–Ω–Ω—ã—Ö –¥–µ–≤–æ—á–µ–∫', fontsize=12);


# **–í—ã–≤–æ–¥**: –ù–∞—á–∏–Ω–∞—è —Å 2010 –≥–æ–¥–∞ –∏ –¥–æ 2015 –Ω–∞–±–ª—é–¥–∞–ª—Å—è —Ä–æ—Å—Ç —Ä–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏ –¥–µ–≤–æ—á–µ–∫, –∞ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª—Å—è —Å–ø–∞–¥. –ù–µ–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤ 2019 –≥–æ–¥—É. –í 2020 –≥–æ–¥—É —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —è–Ω–≤–∞—Ä—å –∏ —Ñ–µ–≤—Ä–∞–ª—å, –Ω–æ —É—Ä–æ–≤–µ–Ω—å —Ä–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏ –¥–µ–≤–æ—á–µ–∫ —É–∂–µ –æ–∫–∞–∑–∞–ª—Å—è —Ä–∞–≤–µ–Ω –ø—Ä–∏–º–µ—Ä–Ω–æ 3/4 –æ—Ç –æ–±—â–µ–π —Ä–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏ –¥–µ–≤–æ—á–µ–∫ –∑–∞ 12 –º–µ—Å—è—Ü–µ–≤ 2019 –≥–æ–¥–∞. 

# In[30]:


df2015 = df[df['Year'] == 2015]
mylabels = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
y = df2015.groupby('Month')['StateRegistrationOfBirth'].sum()

fig, ax = plt.subplots(figsize=(10,10))
plt.pie(y, labels=mylabels, autopct ='%1.1f%%')
plt.legend(title='Months:')
plt.title('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–∂–¥–µ–Ω–∏–π –ø–æ –º–µ—Å—è—Ü–∞–º –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ 2015 –≥–æ–¥–∞)')
plt.show()


# **–í—ã–≤–æ–¥**: –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –¥–µ–≤–æ—á–µ–∫ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –≤ –∏—é–Ω–µ. –í—Ç–æ—Ä–æ–µ –º–µ—Å—Ç–æ –¥–µ–ª—è—Ç –Ω–æ—è–±—Ä—å –∏ –∏—é–ª—å.
